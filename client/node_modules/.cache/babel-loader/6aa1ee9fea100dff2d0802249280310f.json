{"ast":null,"code":"export const reducer = (state, action) => {\n  const {\n    payload\n  } = action;\n\n  switch (action.type) {\n    case 'LOADING':\n      return { ...state,\n        loading: payload\n      };\n\n    case 'DISPLAY_PRODUCTS':\n      return { ...state,\n        products: payload,\n        loading: false\n      };\n\n    case 'FILTER_PRODUCTS':\n      return { ...state,\n        category: payload.category,\n        products: payload.products,\n        loading: false\n      };\n\n    case 'SET_PRODUCTS':\n      return { ...state,\n        category: payload,\n        loading: false\n      };\n\n    case 'ADD_TO_FAVORITES':\n      if (state.favoriteProducts.find(el => el.id === payload.id)) {\n        return { ...state\n        };\n      }\n\n      return { ...state,\n        favoriteProducts: [...state.favoriteProducts, payload],\n        products: state.products.map(product => {\n          if (product.id === payload.id) {\n            product.isFavorite = true;\n          }\n\n          return product;\n        })\n      };\n\n    case 'REMOVE_FROM_FAVORITES':\n      return { ...state,\n        favoriteProducts: state.favoriteProducts.filter(favoriteProduct => favoriteProduct.id !== payload.id),\n        products: state.products.map(product => {\n          if (product.id === payload.id) {\n            product.isFavorite = false;\n          }\n\n          return product;\n        })\n      };\n\n    case 'ADD_TO_CART':\n      if (state.cart.find(el => el.id === payload.id)) {\n        return { ...state\n        };\n      }\n\n      return { ...state,\n        cart: [...state.cart, payload],\n        loading: false\n      };\n\n    case 'REMOVE_ITEM':\n      return { ...state,\n        cart: state.cart.filter(cartItem => cartItem.id !== payload)\n      };\n\n    case 'TOGGLE_AMOUNT':\n      let tempCart = state.cart.map(cartItem => {\n        if (cartItem.id === payload.id) {\n          if (payload.type === 'inc') {\n            return { ...cartItem,\n              amount: cartItem.amount + 1\n            };\n          }\n\n          if (payload.type === 'dec') {\n            return { ...cartItem,\n              amount: cartItem.amount - 1\n            };\n          }\n        }\n\n        return cartItem;\n      }).filter(cartItem => cartItem.amount !== 0);\n      return { ...state,\n        cart: tempCart\n      };\n\n    case 'GET_TOTALS':\n      let {\n        total,\n        amount\n      } = state.cart.reduce((cartTotal, cartItem) => {\n        const {\n          price,\n          amount\n        } = cartItem;\n        const itemTotal = price * amount;\n        cartTotal.total += itemTotal;\n        cartTotal.amount += amount;\n        return cartTotal;\n      }, {\n        total: 0,\n        amount: 0\n      });\n      total = parseFloat(total.toFixed(2));\n      return { ...state,\n        total,\n        amountTotal: amount\n      };\n\n    case 'CLEAR_CART':\n      return { ...state,\n        cart: []\n      };\n\n    case 'ERROR':\n      return { ...state,\n        loading: false,\n        error: payload\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Elena-FooCoding/Foocoding-React-Project-ONLINE-STORE/src/reducer/reducer.js"],"names":["reducer","state","action","payload","type","loading","products","category","favoriteProducts","find","el","id","map","product","isFavorite","filter","favoriteProduct","cart","cartItem","tempCart","amount","total","reduce","cartTotal","price","itemTotal","parseFloat","toFixed","amountTotal","error"],"mappings":"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","sourcesContent":["export const reducer = (state, action) => {\r\n  const { payload } = action;\r\n  switch (action.type) {\r\n    case 'LOADING':\r\n      return { ...state, loading: payload };\r\n    case 'DISPLAY_PRODUCTS':\r\n      return { ...state, products: payload, loading: false };\r\n    case 'FILTER_PRODUCTS':\r\n      return { ...state, category: payload.category, products: payload.products, loading: false };\r\n    case 'SET_PRODUCTS':\r\n      return { ...state, category: payload, loading: false };\r\n    case 'ADD_TO_FAVORITES':\r\n      if (state.favoriteProducts.find((el) => el.id === payload.id)) {\r\n        return { ...state };\r\n      }\r\n      return {\r\n        ...state,\r\n        favoriteProducts: [...state.favoriteProducts, payload],\r\n        products: state.products.map((product) => {\r\n          if (product.id === payload.id) {\r\n            product.isFavorite = true;\r\n          }\r\n          return product;\r\n        }),\r\n      };\r\n    case 'REMOVE_FROM_FAVORITES':\r\n      return {\r\n        ...state,\r\n        favoriteProducts: state.favoriteProducts.filter(\r\n          (favoriteProduct) => favoriteProduct.id !== payload.id,\r\n        ),\r\n        products: state.products.map((product) => {\r\n          if (product.id === payload.id) {\r\n            product.isFavorite = false;\r\n          }\r\n          return product;\r\n        }),\r\n      };\r\n    case 'ADD_TO_CART':\r\n      if (state.cart.find((el) => el.id === payload.id)) {\r\n        return { ...state };\r\n      }\r\n      return { ...state, cart: [...state.cart, payload], loading: false };\r\n    case 'REMOVE_ITEM':\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((cartItem) => cartItem.id !== payload),\r\n      };\r\n\r\n    case 'TOGGLE_AMOUNT':\r\n      let tempCart = state.cart\r\n        .map((cartItem) => {\r\n          if (cartItem.id === payload.id) {\r\n            if (payload.type === 'inc') {\r\n              return { ...cartItem, amount: cartItem.amount + 1 };\r\n            }\r\n            if (payload.type === 'dec') {\r\n              return { ...cartItem, amount: cartItem.amount - 1 };\r\n            }\r\n          }\r\n          return cartItem;\r\n        })\r\n        .filter((cartItem) => cartItem.amount !== 0);\r\n      return { ...state, cart: tempCart };\r\n    case 'GET_TOTALS':\r\n      let { total, amount } = state.cart.reduce(\r\n        (cartTotal, cartItem) => {\r\n          const { price, amount } = cartItem;\r\n          const itemTotal = price * amount;\r\n\r\n          cartTotal.total += itemTotal;\r\n          cartTotal.amount += amount;\r\n          return cartTotal;\r\n        },\r\n        {\r\n          total: 0,\r\n          amount: 0,\r\n        },\r\n      );\r\n      total = parseFloat(total.toFixed(2));\r\n\r\n      return { ...state, total, amountTotal: amount };\r\n    case 'CLEAR_CART':\r\n      return { ...state, cart: [] };\r\n    case 'ERROR':\r\n      return { ...state, loading: false, error: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}